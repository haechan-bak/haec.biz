package com.blue.board.controller;

import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.ResponseBody;
import org.springframework.web.servlet.ModelAndView;

import com.blue.board.common.ResultUtil;
import com.blue.board.service.JqBoardService;
import com.blue.board.vo.JqReplyVO;
import com.blue.board.vo.JqBoardVO;

/**
 * 게시판 Controller
 * @author  JPJ
 * @since   2022.09.14
 * @version 1.0
 * @see
 * 
 *    수정일          수정자                           수정내용
 * ----------  ------  ----------------------------------
 * 2022.09.14   JPJ      최초생성
 * 2022.09.15   JPJ      controller 정리
 * 
 */
@Controller
@RequestMapping(value = "/board")
public class JqBoardController {
	
	private static final Logger logger = LoggerFactory.getLogger(JqBoardController.class);
	
	@Autowired
	private JqBoardService boardService;
	
	/**
	 * 게시판 목록 화면 이동
	 * @param
	 * @return
	 * @exception
	 * 
	 */
	@RequestMapping( value = "/viewBoardList")
    public String viewBoardList(HttpServletRequest request, HttpServletResponse response) throws Exception{
		
        logger.debug("## JqBoardController - viewBoardList Start");
        
        return "jq_board/boardList";
    }
	
	/**
	 * 게시글 작성 화면 이동
	 * @param
	 * @return
	 * @exception
	 * 
	 */
	@RequestMapping( value = "/viewBoardWrite")
    public String viewBoardWrite(HttpServletRequest request, HttpServletResponse response) throws Exception{
		
		logger.debug("## JqBoardController - viewBoardWrite Start");
		
        return "jq_board/boardWrite";
    }
	 
	/**
	 * 게시판 목록 조회
	 * @param
	 * @return
	 * @exception
	 * 
	 */
	@RequestMapping(value = "/boardListSearch")
	@ResponseBody
	public ResultUtil boardListSearch(HttpServletRequest request, HttpServletResponse response, JqBoardVO jqBoardVO) throws Exception {
		
		logger.debug("## JqBoardController - boardListSearch Start");
		
        ResultUtil resultUtil = boardService.boardListSearch(jqBoardVO);
        
        logger.debug("## JqBoardController - boardListSearch End");
	        
        return resultUtil;
	}
	
	/**
	 * 게시글 조회
	 * @param
	 * @return
	 * @exception
	 * 
	 */
    @RequestMapping( value = "/boardInfo")
    @ResponseBody
    public JqBoardVO boardInfo(HttpServletRequest request, HttpServletResponse response, JqBoardVO jqBoardVO) throws Exception{
        
    	logger.debug("## JqBoardController - boardInfo Start");

    	JqBoardVO boardInfoVO = boardService.boardInfo(jqBoardVO);
    	
    	logger.debug("## JqBoardController - boardInfo End");
        
        return boardInfoVO;
    }
    
	/**
	 * 게시글 저장(등록, 수정, 삭제)
	 * @param
	 * @return
	 * @exception
	 * 
	 */
    @RequestMapping( value = "/boardSave")
    @ResponseBody
    public JqBoardVO boardSave(HttpServletRequest request, HttpServletResponse response, JqBoardVO jqBoardVO) throws Exception{
        
    	logger.debug("## JqBoardController - boardSave Start");

    	JqBoardVO boardSaveVO = boardService.boardSave(jqBoardVO);
    	
    	logger.debug("## JqBoardController - boardSave End");
        
        return boardSaveVO;
    }
    
    /**
	 * 댓글 저장(등록)
	 * @param
	 * @return
	 * @exception
	 * 
	 */
    @RequestMapping( value = "/replySave")
    @ResponseBody
    public JqReplyVO replySave(HttpServletRequest request, HttpServletResponse response, JqReplyVO jqReplyVO) throws Exception{
        
    	logger.debug("## JqBoardController - replySave Start");

    	JqReplyVO replySaveVO = boardService.replySave(jqReplyVO);
    	
    	logger.debug("## JqBoardController - replySave End");
        
        return replySaveVO;
    }
    
	/**
	 * 게시글 조회
	 * @param
	 * @return
	 * @exception
	 * 
	 */
    @RequestMapping( value = "/replyInfo")
    @ResponseBody
    public ResultUtil replyInfo(HttpServletRequest request, HttpServletResponse response, JqReplyVO jqReplyVO) throws Exception{
        
    	logger.debug("## JqBoardController - replyInfo Start");

    	ResultUtil resultUtil = boardService.replyInfo(jqReplyVO);
    	
    	logger.debug("## JqBoardController - replyInfo End");
        
        return resultUtil;
    }
    
    /**
	 * 댓글 삭제
	 * @param
	 * @return
	 * @exception
	 * 
	 */
    @RequestMapping( value = "/replyDelete")
    @ResponseBody
    public JqReplyVO replyDelete(HttpServletRequest request, HttpServletResponse response, JqReplyVO jqReplyVO) throws Exception{
        
    	logger.debug("## JqBoardController - replyDelete Start");

    	JqReplyVO replyDelVO = boardService.replyDelete(jqReplyVO);
    	
    	logger.debug("## JqBoardController - replyDelete End");
        
        return replyDelVO;
    }
    
    
}
